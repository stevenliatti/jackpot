sleep 120000 pour wheels 0
sleep 60000 pour wheels 1
sleep 30000 pour wheels 2
In display_thread, before first cond
In wheel_thread 0
from wheel_thread 0, wheel->stop_game : 0
In wheel_thread 0, after first while
Use SIGTSTP to insert a coin, SIGINT to stop a wheel and SIGQUIT to quit.
reminders :
SIGTSTP : CTRL + Z
SIGINT : CTRL + C
SIGQUIT : CTRL + \
kill -s <SIGNAL> 18709
In display_thread, before second cond
In wheel_thread 1
from wheel_thread 1, wheel->stop_game : 0
In wheel_thread 1, after first while
In wheel_thread 2
from wheel_thread 2, wheel->stop_game : 0
In wheel_thread 2, after first while
control_thread, In insert_coin
control_thread, machine->started = true
control_thread, after pthread_cond_broadcast
control_thread, insert_coin, alarm set for 3 sec
control_thread, all wheel rolling
control_thread, Coin inserted.
signal receive in wheel_thread 0
from wheel_thread 0, wheel->stop_game (2) : 0
display_thread deblocked second cond
display_thread, machine->started : 1
signal receive in wheel_thread 1
from wheel_thread 1, wheel->stop_game (2) : 0
signal receive in wheel_thread 2
from wheel_thread 2, wheel->stop_game (2) : 0
control_thread, In stop_wheel
control_thread, stop_wheel, alarm reset to 0
control_thread, stop_wheel, alarm restarted with 3 sec
control_thread, Wheel stopped.
Stop rolling in wheel_thread 0, wheel value : 9
In wheel_thread 0, after first while
control_thread, In stop_wheel
control_thread, stop_wheel, alarm reset to 0
control_thread, stop_wheel, alarm restarted with 3 sec
control_thread, Wheel stopped.
Stop rolling in wheel_thread 1, wheel value : 6
In wheel_thread 1, after first while
control_thread, In stop_wheel
control_thread, stop_wheel, alarm reset to 0
control_thread, stop_wheel, alarm restarted with 3 sec
control_thread, Wheel stopped.
control_thread, stop_wheel, alarm reset to 0 again (third wheel)
Stop rolling in wheel_thread 2, wheel value : 6
In wheel_thread 2, after first while
display_thread, after while machine started
display_thread, end of first while, machine->stop_game : 0
In display_thread, before first cond
display_thread deblocked first cond
In display_thread, before second cond
control_thread, In insert_coin
control_thread, machine->started = true
control_thread, after pthread_cond_broadcast
control_thread, insert_coin, alarm set for 3 sec
control_thread, all wheel rolling
control_thread, Coin inserted.
signal receive in wheel_thread 0
from wheel_thread 0, wheel->stop_game (2) : 0
signal receive in wheel_thread 1
from wheel_thread 1, wheel->stop_game (2) : 0
signal receive in wheel_thread 2
from wheel_thread 2, wheel->stop_game (2) : 0
display_thread deblocked second cond
display_thread, machine->started : 1
control_thread, In stop_wheel
control_thread, stop_wheel, alarm reset to 0
control_thread, stop_wheel, alarm restarted with 3 sec
control_thread, Wheel stopped.
Stop rolling in wheel_thread 0, wheel value : 5
In wheel_thread 0, after first while
control_thread, In stop_wheel
control_thread, stop_wheel, alarm reset to 0
control_thread, stop_wheel, alarm restarted with 3 sec
control_thread, Wheel stopped.
Stop rolling in wheel_thread 1, wheel value : 6
In wheel_thread 1, after first while
control_thread, In stop_wheel
control_thread, stop_wheel, alarm reset to 0
control_thread, stop_wheel, alarm restarted with 3 sec
control_thread, Wheel stopped.
control_thread, stop_wheel, alarm reset to 0 again (third wheel)
Stop rolling in wheel_thread 2, wheel value : 9
In wheel_thread 2, after first while
display_thread, after while machine started
display_thread, end of first while, machine->stop_game : 0
In display_thread, before first cond
control_thread, In exit_game
control_thread, in exit_game, pthread_cond_broadcast
control_thread, Game terminated
after th_control join
signal receive in wheel_thread 2
from wheel_thread 2, wheel->stop_game (2) : 1
Stop rolling in wheel_thread 2, wheel value : 9
wheel_thread 2 terminate
signal receive in wheel_thread 1
from wheel_thread 1, wheel->stop_game (2) : 1
Stop rolling in wheel_thread 1, wheel value : 6
wheel_thread 1 terminate
display_thread deblocked first cond
In display_thread, before second cond
display_thread, machine->started : 1
display_thread, after while machine started
display_thread, end of first while, machine->stop_game : 1
display_thread terminated
after th_display join
signal receive in wheel_thread 0
from wheel_thread 0, wheel->stop_game (2) : 1
Stop rolling in wheel_thread 0, wheel value : 5
wheel_thread 0 terminate
after th_wheels[0] join
after th_wheels[1] join
after th_wheels[2] join
free_machine
